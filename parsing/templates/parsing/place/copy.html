<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{{ place.title }}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
    <style>
        .box {
            background-color: #fff;
            border-radius: 6px;
            box-shadow: 0 0.5em 1em -0.125em rgb(10 10 10 / 10%), 0 0 0 1px rgb(10 10 10 / 2%);
            color: #4a4a4a;
            display: block;
            padding: 1.25rem;
        }

        .box_inner {
            width: 60%;
            min-width: 500px;
            max-width: 920px;
            margin: 20px auto;
        }

        body {
            background-color: #f0f0f0;
            font-family: 'Raleway', sans-serif;
        }

        .place_image {
            width: 60%;
            border-radius: 3px;
            margin: auto;
            display: block;
        }

        .place_image.box {
            padding: 0px;
        }

        .place_name {
            text-align: center;
            color: cornflowerblue;
        }

        .table {
            width: 100%;
            margin: 10px;
            padding: 10px;
            font-size: 16px;
        }

        .table tr td:last-child {
            text-align: end;
            width: 70%;
        }

        .table tr td {
            padding: 3px;
        }

        .table tr td {
        {#border-bottom: 1px solid grey;#} margin: 10px auto;
        }

        .line {
            border-bottom: 1px dashed cornflowerblue;
            margin: 10px auto;
            margin-bottom: 22px;
            width: 100%;
            display: block;
        }

        .iframe_wrap iframe {
            width: 100%;
            height: 320px;
        }

        .place_photos {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        .place_photo {
            width: 200px !important;
            height: 200px !important;
            margin: 20px;
            border-radius: 10px;
        }

        .review .user_name {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }

        .review .rating {
            color: darkgoldenrod;
        }

        .review .text {
            padding: 0px 6px;
        }

        .section_title {
            text-align: center;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        /* Hide default HTML checkbox */
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        /* The slider */
        .slider {
            position: absolute !important;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc !important;
            -webkit-transition: .4s;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
        }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }
    </style>
</head>
<body>
<div class="box box_inner">
    <h2 class="place_name">{{ place.name }}</h2>
    <span class="line"></span>
    <img src="{{ place.cloud_img.get_default_img }}" class="place_image box" alt="">
    <table class="table">
        <tr>
            <td>Name</td>
            <td>{{ place.name }}</td>
        </tr>
        <tr>
            <td>Address:</td>
            <td>{{ place.address|default:' - ' }}</td>
        </tr>
        <tr>
            <td>Site:</td>
            <td><span><a
                    href="{{ place.isSite }}">{{ place.isSite }}</a></span></td>
        </tr>
        <tr>
            <td>Phone:</td>
            <td><a
                    href="tel:{{ place.phone_number }}">{{ place.phone_number|default:' - ' }}</a></td>
        </tr>
        <tr>
            <td>Rating:</td>
            <td>{{ place.rating }} (<span
                    style="color: #9c9c9c">{{ place.rating_user_count }}</span>)
            </td>
        </tr>
        <tr>
            <td>GoogleMaps:</td>
            <td><a href="https://maps.google.com/?cid={{ place.cid }}"
                   target="_blank">https://maps.google.com/?cid={{ place.cid }}</a></td>
        </tr>
        <tr>
            <td>Description:</td>
            <td>{{ place.get_description }}</td>
        </tr>
    </table>
    <div class="place_photos">
        {% for photo in place.photos.all %}
            <img src="{{ server_name }}{{ photo.img.url }}" alt="" class="place_photo">
        {% endfor %}
    </div>

    <p class="iframe_wrap">{% if place.coordinate_html %} {{ place.coordinate_html|safe }}{% else %}Карты
        нет{% endif %}</p>

    <h4 class="section_title">Reviews</h4>
    <div class="reviews">
        {% for review in place.reviews.all|slice:':5' %}
            <div class="review">
                <div class="user_name"><span>{{ review.get_user_name }}</span> <span
                        class="rating">{{ review.get_rating }}</span></div>
                <div class="text">
                    {{ review.text }}
                </div>
            </div>
            <hr>
        {% endfor %}
    </div>

    <span class="line"></span>
</div>
</body>
</html>